# ðŸ‡ºðŸ‡¦ osbb-crawler: Ð—Ð±Ñ–Ñ€ Ð ÐµÑ”ÑÑ‚Ñ€Ñƒ ÐžÐ¡Ð‘Ð‘

Ð¦ÐµÐ¹ Ð¿Ñ€Ð¾Ñ”ÐºÑ‚ Ð²Ð¸ÐºÐ¾Ñ€Ð¸ÑÑ‚Ð¾Ð²ÑƒÑ” Ñ„Ñ€ÐµÐ¹Ð¼Ð²Ð¾Ñ€Ðº **Scrapy** Ð´Ð»Ñ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ð·Ð¾Ð²Ð°Ð½Ð¾Ð³Ð¾ Ð·Ð±Ð¾Ñ€Ñƒ Ñ‚Ð° ÐºÐ¾Ð½ÑÐ¾Ð»Ñ–Ð´Ð°Ñ†Ñ–Ñ— Ð´Ð°Ð½Ð¸Ñ… Ð¿Ñ€Ð¾ Ð¾Ð±'Ñ”Ð´Ð½Ð°Ð½Ð½Ñ ÑÐ¿Ñ–Ð²Ð²Ð»Ð°ÑÐ½Ð¸ÐºÑ–Ð² Ð±Ð°Ð³Ð°Ñ‚Ð¾ÐºÐ²Ð°Ñ€Ñ‚Ð¸Ñ€Ð½Ð¸Ñ… Ð±ÑƒÐ´Ð¸Ð½ÐºÑ–Ð² (ÐžÐ¡Ð‘Ð‘) Ð· Ð¿Ð¾Ñ€Ñ‚Ð°Ð»Ñƒ Ð²Ñ–Ð´ÐºÑ€Ð¸Ñ‚Ð¸Ñ… Ð´Ð°Ð½Ð¸Ñ… Ð£ÐºÑ€Ð°Ñ—Ð½Ð¸.

## ðŸŽ¯ Ð¦Ñ–Ð»ÑŒ

ÐžÑÐ½Ð¾Ð²Ð½Ð° Ñ†Ñ–Ð»ÑŒ â€” Ð¾Ð±Ñ–Ð¹Ñ‚Ð¸ ÑÑ‚Ð¾Ñ€Ñ–Ð½ÐºÐ¸ Ð¿Ð¾ÑˆÑƒÐºÑƒ ÐžÐ¡Ð‘Ð‘ Ð½Ð° [data.gov.ua](https://data.gov.ua/dataset?q=%D0%BE%D1%81%D0%B1%D0%B1&sort=score+desc%2C+metadata_modified+desc&_organization_limit=0), Ð²Ð¸Ð·Ð½Ð°Ñ‡Ð¸Ñ‚Ð¸ Ð¿Ñ€Ñ–Ð¾Ñ€Ð¸Ñ‚ÐµÑ‚Ð½Ñ– Ñ„Ð°Ð¹Ð»Ð¸ Ð´Ð°Ð½Ð¸Ñ… (CSV, JSON, XLSX) Ñ– Ð²Ð¸Ñ‚ÑÐ³Ð½ÑƒÑ‚Ð¸ Ð· Ð½Ð¸Ñ… ÑƒÐ½Ñ–Ñ„Ñ–ÐºÐ¾Ð²Ð°Ð½Ð¸Ð¹ Ñ€ÐµÑ”ÑÑ‚Ñ€ ÐžÐ¡Ð‘Ð‘.

---

## ðŸ—ï¸ ÐÑ€Ñ…Ñ–Ñ‚ÐµÐºÑ‚ÑƒÑ€Ð°

ÐšÑ€Ð°ÑƒÐ»ÐµÑ€ Ñ€ÐµÐ°Ð»Ñ–Ð·Ð¾Ð²Ð°Ð½Ð¸Ð¹ Ð· ÑƒÑ€Ð°Ñ…ÑƒÐ²Ð°Ð½Ð½ÑÐ¼ Ð¼Ð¾Ð´ÑƒÐ»ÑŒÐ½Ð¾ÑÑ‚Ñ– Ð´Ð»Ñ Ð¾Ð±Ñ€Ð¾Ð±ÐºÐ¸ Ñ€Ñ–Ð·Ð½Ð¸Ñ… Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ñ–Ð² Ñ„Ð°Ð¹Ð»Ñ–Ð²:

* **Spider (`osbb_registry`):** ÐžÐ±Ñ…Ð¾Ð´Ð¸Ñ‚ÑŒ Ð²ÐµÐ±ÑÑ‚Ð¾Ñ€Ñ–Ð½ÐºÑƒ Ñ‚Ð° Ð·Ð±Ð¸Ñ€Ð°Ñ” Ð¼ÐµÑ‚Ð°Ð´Ð°Ð½Ñ– Ð½Ð°Ð±Ð¾Ñ€Ñ–Ð² Ð´Ð°Ð½Ð¸Ñ….
* **ÐŸÑ€Ñ–Ð¾Ñ€Ð¸Ñ‚ÐµÐ·Ð°Ñ†Ñ–Ñ:** Ð”Ð»Ñ ÐºÐ¾Ð¶Ð½Ð¾Ð³Ð¾ Ð½Ð°Ð±Ð¾Ñ€Ñƒ Ð´Ð°Ð½Ð¸Ñ… Ð·Ð°Ð²Ð°Ð½Ñ‚Ð°Ð¶ÑƒÑ”Ñ‚ÑŒÑÑ Ð»Ð¸ÑˆÐµ **Ð¾Ð´Ð¸Ð½** Ñ„Ð°Ð¹Ð» Ð·Ð° Ð¿Ñ€Ñ–Ð¾Ñ€Ð¸Ñ‚ÐµÑ‚Ð¾Ð¼: **CSV** > **JSON/API** > **XLSX/XLS**.
* **Processors (`processors.py`):** Ð—Ð¾Ð²Ð½Ñ–ÑˆÐ½Ñ–Ð¹ Ð¼Ð¾Ð´ÑƒÐ»ÑŒ, ÑÐºÐ¸Ð¹ Ð²Ñ–Ð´Ð¿Ð¾Ð²Ñ–Ð´Ð°Ñ” Ð·Ð° Ð¿Ð°Ñ€ÑÐ¸Ð½Ð³ Ð²Ð¼Ñ–ÑÑ‚Ñƒ Ñ„Ð°Ð¹Ð»Ñ–Ð² (Ð·Ñ–ÑÑ‚Ð°Ð²Ð»ÐµÐ½Ð½Ñ (mapping) Ñ€Ñ–Ð·Ð½Ð¸Ñ… Ð½Ð°Ð·Ð² ÐºÐ¾Ð»Ð¾Ð½Ð¾Ðº Ð½Ð° ÑƒÐ½Ñ–Ñ„Ñ–ÐºÐ¾Ð²Ð°Ð½Ñ– Ð¿Ð¾Ð»Ñ `OsbbRecordItem`).
* **Items (`items.py`):** Ð’Ð¸Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¾ Ð´Ð²Ñ– ÑÑƒÑ‚Ð½Ð¾ÑÑ‚Ñ–: `DatasetItem` Ñ‚Ð° `OsbbRecordItem`.

---

## âš™ï¸ Ð—Ð°Ð»ÐµÐ¶Ð½Ð¾ÑÑ‚Ñ–

Ð”Ð»Ñ ÐºÐ¾Ñ€ÐµÐºÑ‚Ð½Ð¾Ñ— Ñ€Ð¾Ð±Ð¾Ñ‚Ð¸ ÐºÑ€Ð°ÑƒÐ»ÐµÑ€Ð° Ð½ÐµÐ¾Ð±Ñ…Ñ–Ð´Ð½Ð¾ Ð²ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚Ð¸ Ð²ÑÑ– Ð¿Ð°ÐºÐµÑ‚Ð¸, Ð¿ÐµÑ€ÐµÐ»Ñ–Ñ‡ÐµÐ½Ñ– Ñƒ Ñ„Ð°Ð¹Ð»Ñ– `requirements.txt`.

```bash
pip install -r requirements.txt
```

# ðŸš€ Ð—Ð°Ð¿ÑƒÑÐº ÐšÑ€Ð°ÑƒÐ»ÐµÑ€Ð°
```
cd osbb_crawler
```
```
scrapy crawl osbb_registry -o osbb_data.csv -t csv
```
### -o Ñ†Ðµ output - ÐºÑƒÐ´Ð¸ ÑÐºÐ»Ð°Ð´Ð°Ñ‚Ð¸ Ð·Ð½Ð°Ð¹Ð´ÐµÐ½Ðµ
### -t Ñ†Ðµ Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚
ÐšÐ¾Ð¼Ð°Ð½Ð´Ð° Ð· Ð¾Ð±Ð¼ÐµÐ¶ÐµÐ½Ð½ÑÐ¼ ÐºÑ–Ð»ÑŒÐºÐ¾ÑÑ‚Ñ– Ñ€ÐµÑÑƒÑ€ÑÑ–Ð² Ñ– Ð·Ñ– ÑÐºÐ»Ð°Ð´Ð°Ð½Ð½ÑÐ¼ Ð»Ð¾Ð³Ñƒ Ð² Ñ„Ð°Ð¹Ð»Ð¸Ðº
```
scrapy crawl osbb_registry -o test_output.csv -s CLOSESPIDER_ITEMCOUNT=10 > crawler_output.log 2>&1
```